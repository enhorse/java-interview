[Вопросы для собеседования](README.md)

# Hibernate
- [Hibernate](#hibernate)
  - [Что такое _Hibernate_?](#что-такое-hibernate)
  - [Какие основные сущности в _Hibernate_?](#какие-основные-сущности-в-hibernate)

## Что такое _Hibernate_?
__Hibernate__ - ORM (Object-Relational Mapping), которая автоматизирует отображение Java объектов в строки в таблице реаляционной БД. 

`Под капотом у него _JDBC API_`

[к оглавлению](#Hibernate)

## Какие основные сущности в _Hibernate_?
+ __Session__ - объект для взаимодействия в Hibernate. Когда мы хотим произвести какие-либо действия с БД через  Hibernate - получаем _сессию_. А объект __Session__ получаем из объекта __SessionFactory__ (паттерн Фабрика):
```java
SessionFactory sessionFactory = configuration.BuildSessionFactory();
Session session = sessionFactory.getCurrentSession();
``` 

+ __Transaction__ - единица работы с БД.
```java
session.beginTransaction(); // Начали транзакцию
...
...
session.save(person); // работа с БД
session.getTransaction().commit(); // Завершили транзакцию
// В случае неудачной транзакции, можем сделать rollback.
```

_Зачем нам помещать несколько операций в 1 транзакцию?_
Это нужно для поддержания согласованности в таблицах. 
_Например_: Мы хотим запретить доступ к таблице, пока БД обрабатывает наш запрос на изменение таблицы. Или мы хотим ограничить доступ дргуих сессий, потоков на обработку той сущности, которая в текущий момент изменяется.

Данная проблема называется __Race Condition__ и для ее решения можно синхронизировать потоки (обычно с помощью блокировок). Будут использоваться __Тransactional Isolation Levels__ (уровни изоляции транзакций).

[к оглавлению](#Hibernate)